{% extends "base.html" %}

{% block title %}Funcionário{% endblock %}

{# ajusta as variáveis conforme novo ou edit #}
{% set id = result[0].id_funcionario if result else '0' %}
{% set nome = result[0].nome if result else '' %}
{% set matricula = result[0].matricula if result else '' %}
{% set cpf = result[0].cpf if result else '' %}
{% set telefone = result[0].telefone if result else '' %}
{% set grupo = result[0].grupo if result else '' %}
{% set senha = result[0].senha if result else '' %}

{% block content %}
<div class="d-flex justify-content-center">
    <div class="card" style="width: 50rem;">
        <form name="{{ 'formEditar' if result else 'formAdicionar' }}"
        id="{{ 'formEditar' if result else 'formAdicionar' }}"
        action="{{ url_for('funcionario.edit') if result else url_for('funcionario.insert') }}"
        method="POST">
            <h1>Funcionário</h1><br>
            <div class="card">
                <form name="formAdicionar" id="formAdicionar" action="{{ url_for('funcionario.insert') }}" method="POST">
                    <label for="id">ID</label>
                    <input type="text" name="id" id="id" value="{{ id }}"><br>
                    <label for="nome">Nome</label>
                    <input type="text" name="nome" id="nome" value="{{ nome }}" ><br>
                    <label for="matricula">Matricula</label>
                    <input type="text" name="matricula" id="matricula" value="{{ matricula }}" ><br>
                    <label for="cpf">CPF</label>
                    <input type="text" name="cpf" id="cpf" value="{{ cpf }}" ><br>
                    <label for="telefone" class="form-label">Telefone</label>
                    <input type="tel" name="telefone" id="telefone" value="{{ telefone }}" ><br>
                    <label for="grupo">Grupo</label>
                    <select name="grupo" id="grupo"><br>
                    <option value="0" {{ 'selected' if grupo == 0 else '' }} >Atendente</option>
                    <option value="1" {{ 'selected' if grupo == 1 else '' }} >Caixa</option>
                    <option value="2" {{ 'selected' if grupo == 2 else '' }} >Adm</option>
                    </select><br>
                    <label for="senha">Senha</label>
                    <input type="password" name="senha" id="senha" value="{{ senha }}"><br>
                    <button type='submit' name='salvaUsuarioDB' id='salvaUsuarioDB'><i class='fas fa-save'></i> Salvar</button>
                </form>
                
                

            </div>
                <!-- <input type="text" name="id" id="id" value="" placeholder="Código" readonly class="form-control">
                <label for="id"></label>
                <br>
                <input type="text" name="nome" id="nome" value="" placeholder="Nome Funcionário" maxlength="100" autofocus required class="form-control">
                <label for="nome"></label>
                <br>
                <input type="text" name="matricula" id="matricula" value="" placeholder="Matrícula" maxlength="15" required class="form-control">
                <label for="matricula"></label>
                <br>
                <input type="text" name="cpf" id="cpf" value="" placeholder="CPF" maxlength="15" required class="form-control">
                <label for="cpf">CPF</label>
                <br>
                <input type="tel" name="telefone" id="telefone" value="" placeholder="Telefone" maxlength="15" required class="form-control">
                <label for="telefone" class="form-label">Telefone</label>
                <br>
                <select class="form-select" name="grupo" id="grupo" aria-label="Grupo" style="width: 15rem;">
                    <option value="0">Atendente</option>
                    <option value="1">Caixa</option>
                    <option value="2">Adm</option>
                </select>
                <label for="grupo"></label>
                <br><br>
                <input type="password" name="senha" id="senha" value="Bolinhas" placeholder="Senha" required class="form-control">
                <label for="senha">Senha</label>
                <br>
                <input type="password" name="resenha" id="resenha" value="Bolinhas" placeholder="Senha" required class="form-control">
                <label for="resenha">Senha</label>
                <br>
                <button type='submit' name='salvaUsuarioDB' id='salvaUsuarioDB'><i class='fas fa-save'></i> Salvar</button> -->
                
        </form>

             
    </div> 
</div>        
{% endblock %}